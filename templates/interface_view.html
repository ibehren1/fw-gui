{% extends "basic_page.html" %}
{% block body %}
<div class="interface-view">
    <div class="view-header">
        <h2 class="section-title">Interfaces</h2>
        <a href="{{ url_for('interface_add') }}" class="btn btn-add">Add Interface</a>
    </div>
    
    {% with flashed_messages = get_flashed_messages(with_categories=true) %}
    {% if flashed_messages %}
    <div class="flash-messages">
        {% for category, flash_message in flashed_messages %}
        <div class="alert alert-{{ category }}">
            {{flash_message}}
        </div>
        {% endfor %}
    </div>
    {% endif %}
    {% endwith %}
    
    {% if interface_list %}
    <div class="interfaces-grid">
        {% for interface in interface_list|sort(attribute='name') %}
        <div class="interface-card">
            <div class="interface-header">
                <h3 class="interface-name">{{ interface.name }}</h3>
                <form action="/interface_delete" method="post" class="delete-form">
                    <input type="hidden" name="interface" value="{{ interface.name }}">
                    <button type="submit" class="btn btn-delete-small" 
                            onclick="return confirm('Delete interface {{ interface.name }}?')" 
                            title="Delete interface">Ã—</button>
                </form>
            </div>
            {% if interface.description %}
            <p class="interface-description">{{ interface.description }}</p>
            {% endif %}
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <p>No interfaces configured. Add an interface to get started.</p>
        <a href="{{ url_for('interface_add') }}" class="btn btn-primary">Add First Interface</a>
    </div>
    {% endif %}
</div>

<style>
.interface-view {
    max-width: 1000px;
}

.view-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
}

.interfaces-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1rem;
}

.interface-card {
    background: rgba(255, 255, 255, 0.05);
    border-radius: var(--border-radius);
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.interface-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.5rem;
}

.interface-name {
    color: var(--primary-color);
    font-weight: 600;
    margin: 0;
}

.interface-description {
    color: rgba(255, 255, 255, 0.8);
    margin: 0;
    font-size: 0.9rem;
}

.delete-form {
    margin: 0;
}

.empty-state {
    text-align: center;
    padding: 3rem;
    background: rgba(255, 255, 255, 0.05);
    border-radius: var(--border-radius);
}

.empty-state p {
    color: rgba(255, 255, 255, 0.7);
    margin-bottom: 1rem;
}
</style>
{% endblock body %}
